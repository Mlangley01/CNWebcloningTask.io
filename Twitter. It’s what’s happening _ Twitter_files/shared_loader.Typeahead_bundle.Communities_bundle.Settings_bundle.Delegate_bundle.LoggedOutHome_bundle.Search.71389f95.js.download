(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3EFP":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return c}));const n="ArrowDown",r="ArrowUp",i="Enter",s="Escape",o="ESC",c="Tab"},"5T6p":function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),i=a("MWbm"),s=a("TIdA"),o=a("A91F"),c=a("t62R");const l=a("rHpw").a.create((e=>({root:{flexDirection:"row",flexShrink:1,flexGrow:1},bodyColumn:{justifyContent:"center",flexDirection:"column",marginRight:e.spaces.space4,marginLeft:e.spaces.space12,flexShrink:1},coverContainer:{borderRadius:e.borderRadii.large,overflow:"hidden"},cellThumbnail:{height:e.spaces.space48,width:e.spaces.space48},largeCellThumbnail:{height:e.spaces.space56,width:e.spaces.space56}})));t.a=function(e){const{image:t,style:a,supportText:n,title:d,withNewTypeaheadUI:u}=e;return r.a.createElement(i.a,{style:[l.root,a]},r.a.createElement(i.a,{style:[l.coverContainer,u?l.largeCellThumbnail:l.cellThumbnail]},t?r.a.createElement(s.a,{accessibilityLabel:"",aspectMode:o.a.SQUARE,image:t}):null),r.a.createElement(i.a,{style:l.bodyColumn},n?r.a.createElement(c.b,{color:"gray700",numberOfLines:1,size:"subtext2"},n):null,r.a.createElement(c.b,{numberOfLines:2,weight:"bold"},d)))}},AQOc:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l}));a("kYxP");var n=a("lnti"),r=a("aWyx");const i={entries:{},entryIdsByConversationId:{},reactionsByMessageId:{}},s=(e=[],t={})=>Array.isArray(e)?e.reduce(((e,a)=>{const n=a.user_id,r=t[n]||{id_str:n};return e[n]={...a,user:r},e}),{}):e;function o(e,t){const{entries:a,entryIdsByConversationId:n}=t;return(n[e]||[]).map((e=>a[e]&&a[e].data)).filter(Boolean)}const c=(e,t=i,a)=>{const{conversation_id:n,participants:r,...o}=e;return{conversation_id:n,...o,entries:t.entryIdsByConversationId[n]||[],participants:s(r,a)}},l=(e,t,a)=>{const{conversation_id:i,participants:c,social_proof:l,...d}=e,u={conversation_id:i,...d,entries:o(i,t),participants:s(c,a),social_proof:void 0};return l&&(u.social_proof=((e=[],t={})=>e.map((e=>{if(e.proof_type===r.d.MUTUAL_FRIENDS){const{users:a,...r}=e;return{...r,users:Object(n.a)(a.map((e=>t[e])))}}return e})))(l,a)),u}},Gfoi:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),i=a("Lsrn"),s=a("k/Ka");const o=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 20.5 20.5"},r.a.createElement("g",null,r.a.createElement("path",{d:"M20.03 18.72l-3.66-3.66c1.325-1.57 2.13-3.596 2.13-5.81 0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM2 9.25c0-4.135 3.365-7.5 7.5-7.5S17 5.115 17 9.25s-3.365 7.5-7.5 7.5S2 13.385 2 9.25z"})));o.metadata={width:20.5,height:20.5},t.a=o},OhSZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));a("kYxP");var n=a("ERkP"),r=a.n(n),i=a("aWyx"),s=a("XnpN"),o=a("3XMw"),c=a.n(o),l=a("MWbm"),d=a("jV+4"),u=a("pjBI"),p=a("t62R"),m=a("rHpw"),h=a("p9G8");const y=c.a.cfd94063,f=c.a.b93ba92c,g=(e=[])=>e.map((({data:e})=>e)),b=m.a.create((e=>({title:{maxWidth:"50%"},dmGroup:{display:"flex",flexDirection:"column"}}))),_=({conversation:e,newConversationParticipants:t,perspective:a})=>{if(e){if(e.type===i.a.ONE_TO_ONE){const[t]=Object(s.a)(e,a).map((({user:e})=>e));return t.name}return Object(h.a)(e,a)}{const e=g(t);return Object(h.b)(e,a)}};t.b=({conversation:e,isConversationSearchTitle:t=!1,isMessageSearchTitle:a=!1,newConversationParticipants:n,perspective:o,renderTimestamp:c,textColor:m="normal",titleWeight:_="bold",withParticipantsCount:v=!1,withScreenName:w=!0,withVDLRefresh:x=!1})=>{if(e){const n=c?c():null;if(e.type===i.a.ONE_TO_ONE){const[i]=Object(s.a)(e,o).map((({user:e})=>e)),c=r.a.createElement(d.a,{color:m,isProtected:i.protected,isVerified:i.verified,name:i.name,screenName:i.screen_name,weight:_,withLink:!1,withScreenName:w});return x&&!t||a?r.a.createElement(u.a,null,c,n):c}{const{participants:i}=e,s=x?Object.keys(i).length-1:Object.keys(i).length;if(t)return r.a.createElement(u.a,{color:m},r.a.createElement(p.b,{color:m,numberOfLines:1,style:b.title,weight:_},Object(h.a)(e,o,t)),x?null:r.a.createElement(p.b,{color:"gray700",numberOfLines:1,weight:"normal"},y({peopleCount:s})));const c=r.a.createElement(p.b,{color:m,numberOfLines:1,weight:_},Object(h.a)(e,o,t));return x&&!t||a?r.a.createElement(l.a,{style:b.dmGroup},r.a.createElement(u.a,null,c,n),v&&r.a.createElement(p.b,{color:"gray700",numberOfLines:1},f({peopleCount:s}))):c}}{const e=g(n);return r.a.createElement(p.b,{color:m,numberOfLines:1,weight:_},Object(h.b)(e,o))}}},V5Qi:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("AQ79");const r=(e,t)=>e[n.c]?e[n.c].conversations[t]:null},XnpN:function(e,t,a){"use strict";a("kYxP");var n=a("aWyx"),r=a("t0aI");const i=(e=0)=>new Date(Number(e)),s=(e,t)=>i(e.join_time)-i(t.join_time),o=({user:e},{user:t})=>Object(r.a)(e.id_str,t.id_str);var c=a("tn7R"),l=a("VIKJ");t.a=(e,t)=>{const{created_by_user_id:a,participants:r,type:i}=e,d=Object(c.a)(r),[u,p]=Object(l.a)(d,(({user:e})=>e.id_str===t));return p.length?i===n.a.GROUP&&1===p.length?[...u,...p]:a?p.sort(((...e)=>(t,a)=>e.map((e=>e(t,a))).filter((e=>!!e))[0]||0)((e=>({user:t},{user:a})=>{switch(e){case t.id_str:return-1;case a.id_str:return 1;default:return 0}})(a),s,o)):p:u}},ZcYN:function(e,t,a){"use strict";a.d(t,"b",(function(){return se})),a.d(t,"a",(function(){return le}));var n=a("ERkP"),r=a.n(n),i=a("+Kfv"),s="typeaheadResult",o=a("v6aA"),c=a("AQOc"),l=a("V5Qi"),d=a("G6rE"),u=a("rxPX");const p=(e,t)=>t.conversationId,m=(e,t)=>Object(l.a)(e,p(0,t));var h=Object(u.a)().propsFromState((()=>({conversationId:p,conversation:m,users:d.e.selectAll}))).adjustStateProps((({conversation:e,conversationId:t,users:a})=>{const n={conversation:void 0};return null!=e&&e.data&&(n.conversation=Object(c.b)(e.data,void 0,a)),n})),y=a("aA19"),f=a("OhSZ"),g=a("5mJL"),b=a("rHpw");const _=b.a.create((e=>({root:{cursor:"pointer",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,width:"100%"},avatarColumn:{flexGrow:1,maxWidth:e.spaces.space40,minWidth:"32px"},bodyColumn:{flexGrow:7,alignItems:"center",flexDirection:"row",justifyContent:"space-between"},disabled:{opacity:.6,backgroundColor:e.colors.gray0}})));var v=h((({conversation:e,isDisabled:t,isSelected:a,perspective:n})=>{const{featureSwitches:i}=r.a.useContext(o.a),s=i.isTrue("dm_vdl_enabled")&&i.isTrue("dm_vdl_inbox_p0_enabled");return e?r.a.createElement(g.a,{avatarCell:r.a.createElement(y.a,{conversation:e,perspective:n,size:"xLarge"}),avatarCellStyle:_.avatarColumn,avatarSize:"xLarge",cellStyle:_.bodyColumn,style:[_.root,!a&&t&&_.disabled]},r.a.createElement(f.b,{conversation:e,perspective:n,withParticipantsCount:!0,withVDLRefresh:s}),le({isSelected:a})):null})),w=a("MWbm"),x=a("LbZ7"),I=a("t62R"),E=a("9Xij"),C=a("TIdA"),S=a("A91F");class k extends r.a.PureComponent{render(){const{event:e,image:t,supportText:a}=this.props;return r.a.createElement(w.a,{style:R.root},r.a.createElement(x.a,{withGutter:!0},r.a.createElement(w.a,{style:R.bodyColumn},a?r.a.createElement(I.b,{color:"gray700",size:"subtext2"},a):null,r.a.createElement(I.b,{numberOfLines:1},e)),t?r.a.createElement(w.a,{style:R.coverContainer},r.a.createElement(E.a,{ratio:1},r.a.createElement(C.a,{accessibilityLabel:"",aspectMode:S.a.SQUARE,image:t}))):null))}}const T="100px",R=b.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},bodyColumn:{flexGrow:7,justifyContent:"center"},coverContainer:{backgroundColor:e.colors.gray200,borderRadius:e.borderRadii.small,flexGrow:1,justifyContent:"flex-end",maxHeight:T,maxWidth:T,overflow:"hidden",width:"25%"}})));var D=k,O=a("5T6p"),P=(a("qd3W"),a("MvUL"),a("yyPN")),F=a.n(P);var j=a("FiRh"),M=a("j7Bv"),L=a("EHV7"),A=a("Gfoi");const U=b.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},context:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.primary,height:e.fontSizes.subtext2,paddingRight:e.spaces.space4,width:e.fontSizes.subtext2},disabled:{backgroundColor:e.colors.gray0},searchIcon:{marginRight:e.spaces.space12,borderWidth:0,backgroundColor:"none"},searchIconCell:{flexDirection:"row",alignItems:"center"},wrapperCellStyle:{justifyContent:"center"}})));var N=function(e){const{featureSwitches:t}=r.a.useContext(o.a),{isDisabled:a,query:n,resultContext:i,showIcon:s,style:c,topic:l}=e,d=function(e,t,a=!1){const n=F()(e),r=e.toLowerCase().indexOf(t.toLowerCase()),i=r+t.length;let s;if(0===n.length){const t=a?[r>0?[0,r]:void 0,[i,e.length]].filter(Boolean):[[r,i]];s=[{highlights:-1!==r?t:void 0,text:e,entityType:"text",prefix:""}]}else{const t=n.flatMap((({indices:t},a,n)=>{const r=0===a?0:n[a-1].indices[1],i=a===n.length-1,s=[];return r!==t[0]&&s.push(e.slice(r,t[0])),s.push(e.substring(t[0],t[1])),i&&e.length!==t[1]&&s.push(e.slice(t[1])),s}));let o=0;const c=t.map(((e,t,a)=>{o+=t>0?a[t-1].length:0;const n=e.length;return{runningTotal:o,containsQuery:-1!==r&&o+n>=r&&o<i}}));s=t.map(((e,t)=>{var n;const{containsQuery:s,runningTotal:o}=c[t],l=e.includes("#");let d;if(a&&!s)d=[[0,e.length]];else if(s){const t=o<r?r-o:0,n=o+e.length<i?e.length:i-o,s=l?t-1:t,c=l?n-1:n;d=a?[s>0?[0,s]:void 0,c!==e.length-1?[c,e.length]:void 0].filter(Boolean):[[s,c]]}const u=l?`${null==e?void 0:e.replace("#","")}`:e;return{highlights:null!=(n=d)&&n.length?d:void 0,text:u,entityType:l?"hashtag":"text",prefix:l?"#":""}}))}return s}(l,t.isTrue("responsive_web_typeahead_reverse_bolding_enabled")?n:"",true),u=r.a.createElement(I.b,null,d.map(((e,t)=>r.a.createElement(j.c,{key:`${e.text}${t}`,part:e})))),p=r.a.createElement(r.a.Fragment,null,u,i?r.a.createElement(w.a,{style:U.context},i&&i.types[0]&&"followable_topic"===i.types[0].type?r.a.createElement(L.a,{style:U.icon}):null,r.a.createElement(I.b,{color:"gray700"},i.display_string||" ")):null);return r.a.createElement(w.a,{style:[U.root,a&&U.disabled,c]},s?(e=>{const t=r.a.createElement(M.a,{Icon:A.a,color:"neutral",size:"xxxLarge",style:U.searchIcon});return r.a.createElement(g.a,{avatarCell:t,avatarCellStyle:U.searchIconCell,avatarSize:"xxxLarge",cellStyle:U.wrapperCellStyle},e)})(p):p)},z=(a("kYxP"),a("M0jS"));const H=(e,t)=>Object(z.c)(e,t.userId);var G=Object(u.a)().propsFromState((()=>({userSpace:H}))),W=a("3XMw"),V=a.n(W),B=a("tocL"),X="TypeaheadUser",Q=a("GZwR"),Y=a("IMA+");const $=V.a.ae2205d1,q=V.a.d960b55b,Z=V.a.fd06b02f,K=Object.freeze({num_of_followers:B.a.Follow,bio:B.a.TextOnly,location:B.a.Location,num_tweets:B.a.NewTweets,follow_relationship:B.a.Follow,followers_follow:B.a.Follow,social_proof:B.a.SocialProof,follow_relationship_mutual_follow:B.a.FollowMutual,follow_relationship_followed:B.a.FollowFollowed,follow_relationship_following:B.a.FollowFollowing});class J extends r.a.PureComponent{constructor(...e){super(...e),this._handleAvatarClick=()=>{const{userSpace:e}=this.props;e||this._handleClick()},this._handleClick=()=>{const{isDisabled:e,item:t,onItemClick:a}=this.props;a&&a(t,!!e)}}render(){const{avatarUri:e,decoration:t,disabledMessage:a,isDisabled:n,isProtected:i,isVerified:s,name:o,screenName:c,source:l,userId:d,userSpace:u,withNewTypeaheadUI:p}=this.props,{featureSwitches:m}=this.context,h=this._getSocialContext(),y=this._getResultContext()||h,f=l===Q.d.SearchBox,g=u&&m.isTrue("voice_rooms_typeahead_audiospace_ring_enabled")?u:void 0;return g&&(g.accessibilityLabel=Z({screenName:c})),r.a.createElement(Y.a,{avatarSize:"xLarge",avatarUri:e,decoration:t,disabledMessage:n?a:void 0,displayMode:p?"ExperimentalUserTypeahead":"UserCompact",isDisabled:n,isProtected:i,isVerified:s,name:o,onAvatarClick:this._handleAvatarClick,onCellClick:this._handleClick,onScreenNameClick:this._handleClick,presenceIndicator:f?g:void 0,screenName:c,socialContext:y,testID:X,userId:d,withInteractiveStyling:!1,withLink:!1})}_getSocialContext(){const{socialContext:e}=this.props;if(!e||!e.following)return;const t=e.followed_by?$:q;return{contextType:B.a.Follow,text:t}}_getResultContext(){const{resultContext:e,source:t}=this.props;if(!e||!e.display_string||!e.types||t!==Q.d.SearchBox)return;return{contextType:(e.types.length?K[e.types[0].type]:void 0)||B.a.TextOnly,text:e.display_string}}}J.contextType=o.a,J.defaultProps={withNewTypeaheadUI:!1};var ee=G.forwardRef(J),te=a("htQn"),ae=a("iySH"),ne=a("IMYl");const re={viewType:"typeahead_result"},ie=({children:e})=>e;function se(e){return r.a.createElement(ie,{item:e.item},r.a.createElement(oe,e))}class oe extends r.a.Component{constructor(e,t){super(e,t),this._onViewRef=e=>{this._viewRef=e;const{onRef:t}=this.props;t&&t(e)},this._handleClick=()=>{const{item:e}=this.props;e.type!==Q.b.User&&this.props.onClick&&this.props.onClick(e,this.isDisabled)},this._withNewTypeaheadUI=this.context.featureSwitches.isTrue("responsive_web_account_search_readability_enabled")&&e.source===Q.d.SearchBox}componentDidMount(){this._loaded=!0,this._viewRef&&(this._rafId=window.requestAnimationFrame((()=>{this._viewRef&&this._viewRef.setNativeProps({style:{opacity:1}})})))}componentDidUpdate(e){const{onRef:t}=this.props;t&&t!==e.onRef&&this._viewRef&&t(this._viewRef)}componentWillUnmount(){this._rafId&&window.cancelAnimationFrame(this._rafId)}render(){const{domId:e,isDisabled:t,isFocused:a,isInMultiSelect:n,isSelected:o,style:c}=this.props;return r.a.createElement(i.a,{behavioralEventContext:re},r.a.createElement(w.a,{accessibilityRole:"option",accessibilityState:{checked:!(!n||!o)||void 0,selected:t?void 0:n&&o||!n&&!!a},nativeID:e,testID:s},r.a.createElement(te.a,{accessibilityRole:n?"checkbox":"button",disabled:t,focusable:!0,onPress:this._handleClick,style:[a&&ce.focused,ce.transitionStyles,this._loaded&&ce.loaded,c],viewRef:this._onViewRef},this._renderResult())))}_renderResult(){const{disabledMessage:e,isDisabled:t,isSelected:a,item:n,onClick:i,renderUserDecoration:s,source:o}=this.props;switch(n.type){case Q.b.User:{const{data:c}=n,l=s?s({userId:c.id_str,isSelected:a}):void 0;return r.a.createElement(ee,{avatarUri:c.profile_image_url_https,canDm:!!c.can_dm,canMediaTag:!!c.can_media_tag,decoration:l||void 0,disabledMessage:e,isDisabled:t,isProtected:!!c.protected,isVerified:!!c.verified,item:n,name:c.name,onItemClick:i,resultContext:c.result_context,screenName:c.screen_name,socialContext:c.social_context,source:o,userId:c.id_str,withNewTypeaheadUI:this._withNewTypeaheadUI})}case Q.b.Event:{const{data:e}=n;return this._withNewTypeaheadUI?r.a.createElement(O.a,{image:e.primary_image&&e.primary_image.original_info,style:ce.itemPadding,supportText:e.supporting_text,title:e.topic,withNewTypeaheadUI:!0}):r.a.createElement(D,{event:e.topic,image:e.primary_image&&e.primary_image.original_info,supportText:e.supporting_text})}case Q.b.Hashtag:case Q.b.Topic:{const{query:e}=this.props,{data:a}=n,i=o===Q.d.SearchBox;return r.a.createElement(N,{isDisabled:t,query:e||"",resultContext:a.result_context,showIcon:i,style:i?ce.itemPadding:void 0,topic:a.topic})}case Q.b.DMConversation:return!!this.context.loggedInUserId&&r.a.createElement(v,{conversationId:n.id,isDisabled:t,isSelected:a,perspective:this.context.loggedInUserId});case Q.b.SettingGroup:{const{text:e}=n.data;return r.a.createElement(w.a,{style:ce.navigationLink},r.a.createElement(I.b,{style:ce.content,weight:"bold"},e),r.a.createElement(ae.a,{style:ce.icon}))}case Q.b.Setting:{const{text:e}=n.data;return r.a.createElement(w.a,{style:ce.navigationLink},r.a.createElement(I.b,{style:ce.content},e),r.a.createElement(ae.a,{style:ce.icon}))}case Q.b.NoResult:{const{data:e}=n,{text:t}=e;return r.a.createElement(I.b,{style:ce.noResult},t)}default:return null}}get isDisabled(){return!!this.props.isDisabled}}oe.contextType=o.a;const ce=b.a.create((e=>({checkIcon:{color:e.colors.primary},navigationLink:{alignItems:"center",flexDirection:"row",flexGrow:1,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},content:{flexGrow:1,flexShrink:1},icon:{color:e.colors.gray700,paddingLeft:e.spaces.space12,flexShrink:0},noResult:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},itemPadding:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},loaded:{opacity:1},focused:{backgroundColor:e.colors.gray0},transitionStyles:{transitionProperty:"opacity",transitionDuration:"250ms",opacity:0}}))),le=({isSelected:e})=>e?r.a.createElement(ne.a,{accessibilityHidden:!0,style:ce.checkIcon}):null},aA19:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),i=a("aWyx"),s=a("XnpN"),o=a("3XMw"),c=a.n(o),l=a("aI6n"),d=a("rHpw"),u=a("TIdA"),p=a("A91F"),m=a("jhWN"),h=a("9Xij"),y=a("Znyr"),f=a("cm6r"),g=a("U+bB"),b=a("MWbm");const _=c.a.fd48249b,v=d.a.create((e=>({circle:{borderRadius:e.borderRadii.infinite,overflow:"hidden"},container:{height:"auto",width:"100%"},itemAccessory:{top:-e.spacesPx.space24,right:-e.spacesPx.space24},userDecoration:{fontSize:e.fontSizes.subtext3,position:"absolute",backgroundColor:e.colors.gray100,marginLeft:e.spaces.space8,boxSizing:"border-box",width:e.spaces.space24,height:e.spaces.space24}}))),w=d.a.create((e=>({container:{flexDirection:"row"},left:{flex:1},right:{flex:1,marginLeft:e.borderWidths.small,marginRight:`calc(-1 * ${e.borderWidths.small})`}}))),x=d.a.create((e=>({container:{flexDirection:"column"},top:{flex:1,marginBottom:e.borderWidths.small},bottom:{flex:1}}))),I=({left:e,right:t})=>r.a.createElement(b.a,{style:w.container},r.a.createElement(b.a,{style:w.left},e),r.a.createElement(b.a,{style:w.right},t)),E=({bottom:e,top:t})=>r.a.createElement(b.a,{style:x.container},r.a.createElement(b.a,{style:x.top},t),r.a.createElement(b.a,{style:x.bottom},e));t.a=e=>{const t=t=>{const{size:a}=e;return r.a.createElement(b.a,{key:t.id_str,style:v.container},r.a.createElement(m.a,{size:a||"xxLarge",uri:t.profile_image_url_https}))},a=e=>{const t=e.length,a=e.map(((e,a)=>{const n=2===t||3===t&&0===a?.5:1;return r.a.createElement(b.a,{key:e.id_str,style:v.container},r.a.createElement(m.a,{aspectRatio:n,shape:"none",size:"custom",uri:e.profile_image_url_https}))}));if(2===t)return r.a.createElement(h.a,{ratio:1},r.a.createElement(I,{left:a[1],right:a[0]}));{const e=r.a.createElement(E,{bottom:a[2],top:a[1]}),t=a[0];return r.a.createElement(I,{left:e,right:t})}},{conversation:n,link:o,perspective:c,withBadge:w}=e,x=n&&n.avatar_image_https,C=n?Object(s.a)(n,c).map((({user:e})=>e)):[],S=C.slice(0,3),k=(e=>{const t=e&&e.avatar&&e.avatar.image&&e.avatar.image.original_info;return t?r.a.createElement(u.a,{accessibilityLabel:"",aspectMode:p.a.SQUARE,backgroundColor:d.a.theme.colors.gray50,image:t,rounded:!0}):null})(n)||(e=>e?r.a.createElement(g.a,{source:e}):null)(x)||(e=>{const n=e.length;return 0===n?null:1===n?t(e[0]):r.a.createElement(b.a,{style:v.circle},a(e))})(S),T=o||((e,t)=>{if(e)return e.type===i.a.GROUP?`/messages/${e.conversation_id}/participants`:e.type===i.a.ONE_TO_ONE?`/${t[0].screen_name}`:void 0})(n,C),R=w&&null!=n&&n.participants?Object.keys(n.participants).length-1:0;return k?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{ratio:1},T?r.a.createElement(f.a,{interactiveStyles:null,link:T,testID:l.a.conversationAvatar},k):k),R?(({badgeCount:e})=>r.a.createElement(b.a,{style:v.itemAccessory},r.a.createElement(y.a,{count:e,standalone:!0,style:v.userDecoration,textColor:"normal",truncatedCountFormatter:()=>"",unreadCountLabel:_,withTruncatedCount:!1})))({badgeCount:R}):null):null}},aI6n:function(e,t,a){"use strict";t.a={conversationAvatar:"DM_Conversation_Avatar",newDM:"NewDM_Button",untrustedThumbnail:"DM_Untrusted_Thumbnail"}},p9G8:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));a("kYxP");var n=a("Xrkv"),r=a("aWyx"),i=a("XnpN"),s=a("3XMw"),o=a.n(s);const c=o.a.b5b7fb93,l=o.a.g755fcde,d=o.a.f6b1ff81;t.a=(e,t,a)=>{const{type:n,name:s,participants:o={}}=e;if(n===r.a.GROUP&&s)return s;if(!Object.keys(o).length)return;if(n===r.a.GROUP&&a)return c;const l=Object(i.a)(e,t).map((({user:e})=>e));return u(l,t,n)};const u=(e=[],t,a=r.a.GROUP)=>{const i=e.filter((e=>e.id_str!==t)).map((e=>e.name));switch(i.length){case 0:return l;case 1:{const[e]=i;return a===r.a.GROUP?d({name:e}):e}default:{const e=!0;return Object(n.a)(i,e)}}}},tAeL:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a("ERkP"),r=a.n(n),i=a("+Kfv"),s=a("0yYu"),o=a("7nmT"),c=a.n(o),l=(a("kYxP"),a("3XMw")),d=a.n(l),u=a("kIAd"),p=a("JYMr"),m=a("rHpw");const h=d.a.f2b3fe06,y=m.a.create((e=>({hidden:{visibility:"hidden"}})));var f=({isLoading:e})=>{const[t,a]=r.a.useState(!1);return r.a.useEffect((()=>{let t;return e?t=setTimeout((()=>a(!0)),u.a):a(!1),()=>clearTimeout(t)}),[e]),r.a.createElement(p.a,{ariaValueText:t?h:"",indeterminate:t,style:!t&&y.hidden})},g=a("ZcYN"),b=a("MWbm"),_=a("oQhu"),v=a("w6IS"),w=a("MXDK");const x={viewType:"typeahead_dropdown"};class I extends r.a.Component{constructor(e,t){super(e),this._setFocusedItemRef=e=>{this._shouldScrollToFocusedItem&&e&&(Object(w.c)(this._getScrollParent(),e),this._shouldScrollToFocusedItem=!1)},this._resetScroll=()=>{const e=this._getScrollParent();e&&(e.scrollTop=0)},this._getFlattenedItems=Object(_.a)((e=>Object(v.a)(e))),this._handleItemClick=(e,t)=>{const{items:a,onItemClick:n}=this.props,r=this._getFlattenedItems(a).indexOf(e);e&&!t&&!this._shouldBlockInteractivity&&n(e,r),this._resetFocus()},this._getResultCount=()=>{const{items:e}=this.props;return this._getFlattenedItems(e).length},this._setFocusIndex=(e,t)=>{const{items:a,onItemFocusChanged:n}=this.props;this._shouldScrollToFocusedItem=t,this.setState({focusIndex:e}),n&&n(this._getFlattenedItems(a)[e])},this._resetFocus=()=>{this._setFocusIndex(this.props.withItemAlwaysSelected?0:-1)},this.focusNext=()=>{const{focusIndex:e}=this.state,t=this._getResultCount();if(0===t)return;const a=e+1>=t?0:e+1;this._setFocusIndex(a,!0)},this.focusPrevious=()=>{const{focusIndex:e}=this.state,t=this._getResultCount();if(0===t)return;const a=e-1<0?t-1:e-1;this._setFocusIndex(a,!0)},this.hasFocusedItem=()=>{const{focusIndex:e}=this.state,t=this._getResultCount();return e>=0&&t>e},this.selectFocusedItem=()=>{const{focusIndex:e}=this.state,{getItemIsDisabled:t,items:a}=this.props;if(this.hasFocusedItem()){const n=this._getFlattenedItems(a)[e],r=!!t&&t(n,n.data);this._handleItemClick(n,r)}},this.state={focusIndex:e.withItemAlwaysSelected?0:-1}}componentDidMount(){this._resetFocus()}componentWillUnmount(){clearTimeout(this._interactivityTimeout)}componentDidUpdate(e){e.items!==this.props.items&&(this._resetFocus(),this._resetScroll(),this._interactivityTimeout&&clearTimeout(this._interactivityTimeout),this._shouldBlockInteractivity=!0,this._interactivityTimeout=setTimeout((()=>{this._shouldBlockInteractivity=!1}),500))}render(){const{domId:e,isLoading:t,items:a,renderCallout:n,renderHeader:s,renderNoResultsState:o,selectedItems:c,style:l}=this.props,d=t||a.length;let u=0;const p=!!c;return d?r.a.createElement(i.a,{behavioralEventContext:x},r.a.createElement(b.a,{accessibilityMultiSelectable:p,accessibilityRole:"listbox",nativeID:e,style:l},n?n():null,r.a.createElement(f,{isLoading:!!t}),s?s():null,a.length?a.map(((e,t)=>{const n=!Array.isArray(a[t-1])&&t>0,r=t<a.length-1,i=Array.isArray(e)?this._renderTypeaheadGroup(e,u,n,r):this._renderTypeaheadItem(e,u);return u+=Array.isArray(e)?e.length:1,i})):null)):o?o():null}_renderTypeaheadGroup(e,t,a,n){const{withSectionDivider:i}=this.props;return r.a.createElement(r.a.Fragment,{key:`typeaheadGroup-${t}`},i&&a?r.a.createElement(s.a,{key:`typeaheadDividerTop-${t}`}):null,e.map(((e,a)=>this._renderTypeaheadItem(e,t+a))),i&&n?r.a.createElement(s.a,{key:`typeaheadDividerBottom-${t}`}):null)}_renderTypeaheadItem(e,t){const{ariaDescendantId:a,getItemDisabledMessage:n,getItemIsDisabled:i,query:s,renderUserDecoration:o,selectedItems:c,source:l}=this.props,{focusIndex:d}=this.state,u=!(!c||!e.id)&&c.indexOf(e.id)>=0,p=!!c,m=d===t,h=i&&i(e,e.data),y=n&&n(e,e.data);return r.a.createElement(g.b,{disabledMessage:y,domId:m?a:void 0,isDisabled:h,isFocused:m,isInMultiSelect:p,isSelected:u,item:e,key:`typeaheadItem-${t}-${e.id||""}`,onClick:this._handleItemClick,onRef:m?this._setFocusedItemRef:void 0,query:s,renderUserDecoration:o,source:l})}_getScrollParent(){if(!this._scrollParent){const e=Object(w.a)(c.a.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent}}},woHV:function(e,t,a){"use strict";a("ERkP");var n=a("k/Ka"),r=a("rHpw").a.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}});t.a=e=>{const{style:t,...a}=e;return Object(n.a)("form",{...a,action:"#",style:[r.initial,t]})}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.Typeahead~bundle.Communities~bundle.Settings~bundle.Delegate~bundle.LoggedOutHome~bundle.Search.71389f95.js.map